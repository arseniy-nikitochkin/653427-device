var buttonWriteUs=document.querySelector(".button-write-us"),mapPopup=document.querySelector(".map-popup"),modalFeedback=document.querySelector(".modal-feedback"),modalMap=document.querySelector(".modal-map"),feedbackClose=modalFeedback.querySelector(".modal-close"),mapClose=modalMap.querySelector(".modal-close"),form=modalFeedback.querySelector("form"),username=modalFeedback.querySelector("[name=username]"),email=modalFeedback.querySelector("[name=email]"),message=modalFeedback.querySelector("textarea"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("username"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}buttonWriteUs.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),storageName&&storageEmail?(username.value=storageName,email.value=storageEmail,message.focus()):username.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-error")}),mapPopup.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),form.addEventListener("submit",function(e){username.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))});
